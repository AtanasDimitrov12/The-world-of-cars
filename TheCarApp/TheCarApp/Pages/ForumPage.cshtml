@page
@model TheCarApp.Pages.ForumPageModel
@{
    ViewData["Title"] = "Forum Page";
}

  <div class="containerForum">
        <h1>Forum</h1>
        
        <!-- Discussion Form -->
        <div class="discussion-form">
            <form id="discussionForm">
                <input type="text" id="discussionTitle" placeholder="Enter discussion title" required>
                <select id="topic" required>
                    <option value="" disabled selected>Select topic</option>
                    <option value="Technology">Technology</option>
                    <option value="Sports">Sports</option>
                    <option value="Politics">Politics</option>
                    <!-- Add more topics as needed -->
                </select>
                <textarea id="question" placeholder="Ask your question" required></textarea>
                <button type="submit">Create Discussion</button>
            </form>
        </div>

        <!-- List of Discussions -->
        <ul class="discussion-list" id="discussionList">
            <!-- Discussions will be dynamically added here -->
        </ul>
    </div>

    <script>
        document.getElementById('discussionForm').addEventListener('submit', function(event) {
            event.preventDefault();
            var title = document.getElementById('discussionTitle').value;
            var topic = document.getElementById('topic').value;
            var question = document.getElementById('question').value;
            if (title && topic && question) {
                createDiscussion(title, topic, question);
                document.getElementById('discussionForm').reset();
            } else {
                alert('Please fill in all fields');
            }
        });

        function createDiscussion(title, topic, question) {
            var discussionList = document.getElementById('discussionList');
            var discussionItem = document.createElement('li');
            discussionItem.className = 'discussion';
            discussionItem.innerHTML = '<h2>' + title + '</h2><p>Topic: ' + topic + '</p><p><strong>Question:</strong> ' + question + '</p>' +
                '<div class="reply-form"><form><textarea placeholder="Your Answer"></textarea><br><button type="submit">Reply</button></form></div>' +
                '<button class="end-discussion-button" onclick="deleteDiscussion(this)">End Discussion</button>';
            discussionList.appendChild(discussionItem);
        }

        function deleteDiscussion(button) {
            var discussionItem = button.parentNode;
            discussionItem.parentNode.removeChild(discussionItem);
        }
    </script>