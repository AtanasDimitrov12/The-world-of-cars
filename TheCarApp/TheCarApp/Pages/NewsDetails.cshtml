@page "/NewsDetails/{NewsId:int}"
@model TheCarApp.Pages.NewsDetailsModel
@{
    ViewData["Title"] = "News Details";
    <link rel="stylesheet" href="~/css/market.css" asp-append-version="true" />
}



<div class="page-heading header-text">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>@Model.news.Title</h1>
                <span><i class="fa fa-user"></i> @Model.news.Author &nbsp;|&nbsp; <i class="fa fa-calendar"></i> @Model.news.ReleaseDate</span>
            </div>
        </div>
    </div>
</div>
<br>
<br>
<div class="more-info about-info">
    <div class="container">
        <div class="row">
            <!-- Text content column -->
            <div class="col-md-6">
                <br><br><br><br>
                <h5>Short description:</h5>
                <p>@Model.news.ShortIntro</p>

            </div>
            <!-- Image content column -->
            <div class="col-md-6">
                <img src="~/pictures/@Model.news.ImageURL" alt="News Picture" class="img-fluid custom-img-large">
            </div>
            <br>
            <h5>News Description:</h5>
            <p>@Model.news.NewsDescription</p>
        </div>
    </div>
</div>

@* Mozhe bi da sloja nai otogore za dobavqne na komentar i otdolu da se zarezhdat komentarite kato nai gorniq da e naj noviq *@

<div class="callback-form contact-us">
    <div class="container">
        <div class="comments-section">
            <h3>Comments:</h3>
            @foreach (var comment in Model.news.GetComments())
            {
                <div class="comment">
                    <p><strong>@Model.projectManager.userRepository.GetUserNameById(comment.UserId) / @comment.Date</strong> @comment.Message</p>
                </div>
            }
        </div>

        <div class="add-comment-section">
            <h3>Add a comment:</h3>
            <form method="post" asp-page-handler="AddComment">
                <div class="form-group">
                    <label for="commentContent">Your Message</label>
                    <textarea asp-for="NewComment.Message" class="form-control" placeholder="Enter your comment" required></textarea>
                </div>
                <input type="submit" value="Submit" class="btn btn-primary">
            </form>
        </div>
    </div>
</div>

